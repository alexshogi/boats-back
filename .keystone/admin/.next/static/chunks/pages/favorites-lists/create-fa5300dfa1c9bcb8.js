(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[65],{3241:function(t,e,i){"use strict";i.d(e,{G:function(){return getCreateItemPage}});var r=i(5445),n=i(6759),a=i(5631),o=i(5632),l=i(4163);i(928),i(2784),i(9378);var s=i(8023),d=i(5360);i(9097),i(7729),i(7595),i(487),i(891),i(5273),i(6987),i(8999);var g=i(1465),u=i(8346),c=i(9258);function CreatePageForm(t){var e,i;let n=(0,g.u)(t.list),s=(0,o.useRouter)();return(0,r.tZ)(r.xu,{paddingTop:"xlarge"},n.error&&(0,r.tZ)(u.G,{networkError:null===(e=n.error)||void 0===e?void 0:e.networkError,errors:null===(i=n.error)||void 0===i?void 0:i.graphQLErrors}),(0,r.tZ)(l.F,n.props),(0,r.tZ)(c.B,null,(0,r.tZ)(a.zx,{isLoading:"loading"===n.state,weight:"bold",tone:"active",onClick:async()=>{let e=await n.create();e&&s.push(`/${t.list.path}/${e.id}`)}},"Create ",t.list.singular)))}i(2445),i(3818),i(1511),i(5364),i(6819),i(4002),i(9393),i(7668),i(1168),i(5976),i(581),i(6763),i(5478),i(3900);let getCreateItemPage=t=>()=>(0,r.tZ)(CreateItemPage,t);function CreateItemPage(t){let e=(0,d.sm)(t.listKey),{createViewFieldModes:i}=(0,d.jf)();return(0,r.tZ)(s.P,{title:`Create ${e.singular}`,header:(0,r.tZ)(c.I,{list:e,label:"Create"})},(0,r.tZ)(c.C,null,(0,r.tZ)(r.xu,null,"error"===i.state&&(0,r.tZ)(u.G,{networkError:i.error instanceof Error?i.error:void 0,errors:i.error instanceof Error?void 0:i.error}),"loading"===i.state&&(0,r.tZ)(n.xg,{label:"Loading create form"}),(0,r.tZ)(CreatePageForm,{list:e}))))}},8023:function(t,e,i){"use strict";i.d(e,{H:function(){return m},P:function(){return PageContainer}});var r=i(7896),n=i(5445),a=i(2784),o=i(3818),l=i(5632);i(5631),i(487),i(891),i(5273);var s=i(5360),d=i(1511),g=i(6987),u=i(9097),c=i.n(u);let Logo=()=>{var t;let{spacing:e}=(0,n.Fg)(),{adminConfig:i}=(0,s.jf)();return null!==(t=i.components)&&void 0!==t&&t.Logo?(0,n.tZ)(i.components.Logo,null):(0,n.tZ)(n.H3,null,(0,n.tZ)(c(),{href:"/",css:{backgroundImage:"linear-gradient(to right, #0ea5e9, #6366f1)",backgroundClip:"text",lineHeight:"1.75rem",color:"transparent",verticalAlign:"middle",transition:"color 0.3s ease",textDecoration:"none"}},(0,n.tZ)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 220 220",css:{display:"inline-block",width:"2rem",height:"2rem",margin:`0  ${e.medium}px ${e.xsmall}px 0`,verticalAlign:"middle"}},(0,n.tZ)("defs",null,(0,n.tZ)("linearGradient",{id:"logo-a",x1:"0%",x2:"50%",y1:"0%",y2:"71.9%"},(0,n.tZ)("stop",{offset:"0%",stopColor:"#5AE8FA"}),(0,n.tZ)("stop",{offset:"100%",stopColor:"#2684FF"}))),(0,n.tZ)("path",{fill:"url(#logo-a)",fillRule:"evenodd",d:"M290.1 47h117.5c17.8 0 24.3 1.9 30.8 5.3a36.3 36.3 0 0115.1 15.2c3.5 6.5 5.4 13 5.4 30.8v117.4c0 17.9-1.9 24.3-5.4 30.8a36.3 36.3 0 01-15.1 15.2c-6.5 3.4-13 5.3-30.8 5.3H290c-17.8 0-24.3-1.9-30.8-5.3a36.3 36.3 0 01-15.1-15.2c-3.5-6.5-5.3-13-5.3-30.8V98.3c0-17.9 1.8-24.3 5.3-30.8a36.3 36.3 0 0115.1-15.2c6.5-3.4 13-5.3 30.8-5.3zm11.8 56.8V218H327v-36.8l14.4-14.6 34.4 51.4h31.5l-49-69.1 44.7-45.1h-31.3L327 151v-47.3H302z",transform:"translate(-238.9 -47)"})),"Keystone 6"))},NavItem=({href:t,children:e,isSelected:i})=>{let{colors:r,palette:a,spacing:o,radii:s,typography:g}=(0,n.Fg)(),u=(0,l.useRouter)(),c=void 0!==i?i:u.pathname===t;return(0,n.tZ)("li",null,(0,n.tZ)(d.rU,{"aria-current":!!c&&"location",href:t,css:{background:"transparent",borderBottomRightRadius:s.xsmall,borderTopRightRadius:s.xsmall,color:a.neutral700,display:"block",fontWeight:g.fontWeight.medium,marginBottom:o.xsmall,marginRight:o.xlarge,padding:`${o.small}px ${o.xlarge}px`,position:"relative",textDecoration:"none",":hover":{background:r.backgroundHover,color:r.linkHoverColor},"&[aria-current=location]":{background:a.neutral200,color:a.neutral900}}},e))},AuthenticatedItemDialog=({item:t})=>{let{apiPath:e}=(0,s.jf)(),{spacing:i,typography:r}=(0,n.Fg)();return(0,n.tZ)("div",{css:{alignItems:"center",display:"flex",flexDirection:"row",justifyContent:"space-between",margin:i.xlarge,marginBottom:0}},!!t&&"authenticated"===t.state&&(0,n.tZ)("div",{css:{fontSize:r.fontSize.small}},"Signed in as ",(0,n.tZ)("strong",{css:{display:"block"}},t.label)),t&&"authenticated"===t.state&&(0,n.tZ)(g.S,null))},NavigationContainer=({authenticatedItem:t,children:e})=>{let{spacing:i}=(0,n.Fg)();return(0,n.tZ)("div",{css:{display:"flex",flexDirection:"column",justifyContent:"center",position:"relative"}},(0,n.tZ)(AuthenticatedItemDialog,{item:t}),(0,n.tZ)("nav",{role:"navigation","aria-label":"Side Navigation",css:{marginTop:i.xlarge}},(0,n.tZ)("ul",{css:{padding:0,margin:0,li:{listStyle:"none"}}},e)))},ListNavItem=({list:t})=>{let e=(0,l.useRouter)();return(0,n.tZ)(NavItem,{isSelected:e.pathname.split("/")[1]===`/${t.path}`.split("/")[1],href:`/${t.path}${t.isSingleton?"/1":""}`},t.label)},ListNavItems=({lists:t=[],include:e=[]})=>{let i=e.length>0?t.filter(t=>e.includes(t.key)):t;return(0,n.tZ)(a.Fragment,null,i.map(t=>(0,n.tZ)(ListNavItem,{key:t.key,list:t})))},Navigation=()=>{var t;let{adminMeta:{lists:e},adminConfig:i,authenticatedItem:r,visibleLists:a}=(0,s.jf)();if("loading"===a.state)return null;if("error"===a.state)return(0,n.tZ)(n.xv,{as:"span",paddingLeft:"xlarge",css:{color:"red"}},a.error instanceof Error?a.error.message:a.error[0].message);let o=Object.keys(e).map(t=>a.lists.has(t)?e[t]:null).filter(t=>!!t);return null!=i&&null!==(t=i.components)&&void 0!==t&&t.Navigation?(0,n.tZ)(i.components.Navigation,{authenticatedItem:r,lists:o}):(0,n.tZ)(NavigationContainer,{authenticatedItem:r},(0,n.tZ)(NavItem,{href:"/"},"Dashboard"),(0,n.tZ)(ListNavItems,{lists:o}))},m=80,PageWrapper=t=>(0,n.tZ)(a.Fragment,null,(0,n.tZ)("style",null,"body { overflow: hidden; }"),(0,n.tZ)("div",(0,r.Z)({css:{display:"grid",gridTemplateColumns:"minmax(300px, 1fr)",gridTemplateRows:`repeat(2,${m}px) auto`,height:"100vh",isolation:"isolate","@media (min-width: 576px)":{gridTemplateColumns:"minmax(300px, 1fr) 4fr",gridTemplateRows:`${m}px auto`}}},t))),Sidebar=({isSidebarOpen:t,...e})=>(0,n.tZ)("div",{css:{gridColumn:"1/2",gridRow:"2/4",display:t?"block":"none",height:"100vh","@media (min-width: 576px)":{gridColumn:"1/2",gridRow:"2/3",display:"block",height:"100%"},overflowY:"auto",WebkitOverflowScrolling:"touch"}},(0,n.tZ)("aside",(0,r.Z)({css:{minWidth:0,WebkitOverflowScrolling:"touch"}},e))),Content=t=>{let{colors:e,spacing:i}=(0,n.Fg)();return(0,n.tZ)("main",(0,r.Z)({css:{backgroundColor:e.background,boxSizing:"border-box",minWidth:0,paddingLeft:i.xlarge,paddingRight:i.xlarge,overflowY:"auto",WebkitOverflowScrolling:"touch",position:"relative"}},t))},PageContainer=({children:t,header:e,title:i})=>{let{colors:r,spacing:l}=(0,n.Fg)(),[s,d]=(0,a.useState)(!1);return(0,n.tZ)(PageWrapper,null,(0,n.tZ)("div",{css:{alignItems:"center",borderBottom:`1px solid ${r.border}`,display:"flex",justifyContent:"space-between",paddingLeft:l.xlarge,paddingRight:l.xlarge}},(0,n.tZ)(Logo,null),(0,n.tZ)("div",{onClick:()=>{d(!s)},css:{display:"block","@media (min-width: 576px)":{display:"none"}}},s?(0,n.tZ)(o.oOx,null):(0,n.tZ)(o.Oqj,null))),(0,n.tZ)("header",{css:{alignItems:"center",backgroundColor:r.background,borderBottom:`1px solid ${r.border}`,display:"flex",justifyContent:"space-between",minWidth:0,paddingLeft:l.xlarge,paddingRight:l.xlarge,visibility:s?"hidden":"visible"}},(0,n.tZ)("title",null,i?`Keystone - ${i}`:"Keystone"),(0,n.tZ)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),e),(0,n.tZ)(Sidebar,{isSidebarOpen:s},(0,n.tZ)(Navigation,null)),(0,n.tZ)(Content,null,t))}},9258:function(t,e,i){"use strict";i.d(e,{B:function(){return BaseToolbar},C:function(){return ColumnLayout},I:function(){return ItemPageHeader}});var r=i(7896),n=i(5445),a=i(5273),o=i(2784),l=i(1511);let Container=({children:t,...e})=>(0,n.tZ)("div",(0,r.Z)({css:{minWidth:0,maxWidth:1080}},e),t);function ItemPageHeader(t){let{palette:e,spacing:i}=(0,n.Fg)();return(0,n.tZ)(Container,{css:{alignItems:"center",display:"flex",flex:1,justifyContent:"space-between"}},(0,n.tZ)("div",{css:{alignItems:"center",display:"flex",flex:1,minWidth:0}},t.list.isSingleton?(0,n.tZ)(n.X6,{type:"h3"},t.list.label):(0,n.tZ)(o.Fragment,null,(0,n.tZ)(n.X6,{type:"h3"},(0,n.tZ)(l.rU,{href:`/${t.list.path}`,css:{textDecoration:"none"}},t.list.label)),(0,n.tZ)("div",{css:{color:e.neutral500,marginLeft:i.xsmall,marginRight:i.xsmall}},(0,n.tZ)(a.X,null)),(0,n.tZ)(n.X6,{as:"h1",type:"h3",css:{minWidth:0,maxWidth:"100%",overflow:"hidden",flex:1,textOverflow:"ellipsis",whiteSpace:"nowrap"}},t.label))))}function ColumnLayout(t){let{spacing:e}=(0,n.Fg)();return(0,n.tZ)(Container,{css:{position:"relative",height:"100%"}},(0,n.tZ)("div",(0,r.Z)({css:{alignItems:"start",display:"grid",gap:e.none,gridTemplateColumns:"100vw","@media (min-width: 576px)":{gridTemplateColumns:"2fr 1fr",gap:e.xlarge}}},t)))}function BaseToolbar(t){let{colors:e,spacing:i}=(0,n.Fg)();return(0,n.tZ)("div",{css:{background:e.background,borderTop:`1px solid ${e.border}`,bottom:0,display:"flex",justifyContent:"space-between",marginTop:i.xlarge,paddingBottom:i.xlarge,paddingTop:i.xlarge,position:"sticky",zIndex:20}},t.children)}},306:function(t,e,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/favorites-lists/create",function(){return i(1669)}])},1669:function(t,e,i){"use strict";i.r(e);var r=i(3241);e.default=(0,r.G)({listKey:"FavoritesList"})}},function(t){t.O(0,[888,774,179],function(){return t(t.s=306)}),_N_E=t.O()}]);