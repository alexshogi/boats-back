// This file is automatically generated by Keystone, do not modify it manually.
// Modify your Keystone config when you want to change this.

datasource mysql {
  url               = env("DATABASE_URL")
  shadowDatabaseUrl = env("SHADOW_DATABASE_URL")
  provider          = "mysql"
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id              String    @id @default(uuid())
  name            String    @default("")
  email           String    @unique @default("")
  password        String
  middlename      String    @default("")
  lastname        String    @default("")
  photo           Image?    @relation("User_photo", fields: [photoId], references: [id])
  photoId         String?   @map("photo")
  phone           String    @default("")
  telegram        String    @default("")
  whatsapp        String    @default("")
  role            String    @default("user")
  roleName        String    @default("")
  orders          Order[]   @relation("User_orders")
  postcode        String    @default("")
  country         String    @default("")
  city            String    @default("")
  street          String    @default("")
  house           String    @default("")
  createdAt       DateTime? @default(now())
  updatedAt       DateTime? @default(now())
  from_Order_user Order[]   @relation("Order_user")

  @@index([photoId])
}

model Image {
  id                  String     @id @default(uuid())
  name                String     @default("")
  altText             String     @default("")
  image_filesize      Int?
  image_extension     String?
  image_width         Int?
  image_height        Int?
  image_id            String?
  from_User_photo     User[]     @relation("User_photo")
  from_Product_image  Product[]  @relation("Product_image")
  from_Product_images Product[]  @relation("Product_images")
  from_Service_image  Service[]  @relation("Service_image")
  from_Category_image Category[] @relation("Category_image")
}

model Product {
  id                           String       @id @default(uuid())
  title                        String       @default("")
  caption                      String       @default("")
  description                  String       @default("") @mysql.VarChar(2000)
  price                        Int?
  oldPrice                     Int?
  bonus                        Int?
  image                        Image?       @relation("Product_image", fields: [imageId], references: [id])
  imageId                      String?      @map("image")
  images                       Image[]      @relation("Product_images")
  vendorCode                   String       @default("")
  balance                      Int?
  isActive                     Boolean      @default(true)
  isPopular                    Boolean      @default(false)
  category                     Category?    @relation("Product_category", fields: [categoryId], references: [id])
  categoryId                   String?      @map("category")
  subCategory                  SubCategory? @relation("Product_subCategory", fields: [subCategoryId], references: [id])
  subCategoryId                String?      @map("subCategory")
  tags                         Tag[]        @relation("Product_tags")
  colorName                    String       @default("")
  colorCode                    String       @default("")
  link                         String       @unique @default("")
  material                     String       @default("")
  type                         String       @default("")
  handlingType                 String       @default("")
  sideHeight                   Int?
  transomHeight                Int?
  overallLength                Int?
  overallWidth                 Int?
  weight                       Int?
  loadCapacity                 Int?
  permissibleMotorPower        String       @default("")
  deadriseAmidships            Int?
  deadriseTransom              Int?
  passengers                   Int?
  beadThickness                Int?
  bottomThickness              Int?
  relatedProducts              Product[]    @relation("Product_relatedProducts")
  extras                       Product[]    @relation("Product_extras")
  services                     Service[]    @relation("Product_services")
  specifications               String       @default("") @mysql.VarChar(2000)
  properties                   String       @default("") @mysql.VarChar(2000)
  seoTitle                     String       @default("")
  seoDescription               String       @default("") @mysql.VarChar(2000)
  seoCanonical                 String       @default("")
  createdAt                    DateTime?    @default(now())
  updatedAt                    DateTime?    @default(now())
  clicks                       Int?         @default(0)
  orders                       Int?         @default(0)
  from_Product_relatedProducts Product[]    @relation("Product_relatedProducts")
  from_Product_extras          Product[]    @relation("Product_extras")
  from_Tag_products            Tag[]        @relation("Tag_products")

  @@index([imageId])
  @@index([categoryId])
  @@index([subCategoryId])
}

model Service {
  id                    String    @id @default(uuid())
  title                 String    @default("")
  code                  String    @default("")
  caption               String    @default("")
  description           String    @default("") @mysql.VarChar(2000)
  image                 Image?    @relation("Service_image", fields: [imageId], references: [id])
  imageId               String?   @map("image")
  price                 Int?
  bonus                 Int?
  vendorCode            Int?
  isActive              Boolean   @default(false)
  category              Category? @relation("Service_category", fields: [categoryId], references: [id])
  categoryId            String?   @map("category")
  createdAt             DateTime? @default(now())
  updatedAt             DateTime? @default(now())
  clicks                Int?
  orders                Int?
  from_Product_services Product[] @relation("Product_services")

  @@index([imageId])
  @@index([categoryId])
}

model Category {
  id                      String        @id @default(uuid())
  code                    String        @default("")
  title                   String        @default("")
  image                   Image?        @relation("Category_image", fields: [imageId], references: [id])
  imageId                 String?       @map("image")
  children                SubCategory[] @relation("Category_children")
  isActive                Boolean       @default(true)
  seoTitle                String        @default("")
  seoDescription          String        @default("") @mysql.VarChar(2000)
  seoCanonical            String        @default("")
  createdAt               DateTime?     @default(now())
  updatedAt               DateTime?     @default(now())
  from_Product_category   Product[]     @relation("Product_category")
  from_Service_category   Service[]     @relation("Service_category")
  from_SubCategory_parent SubCategory[] @relation("SubCategory_parent")

  @@index([imageId])
}

model SubCategory {
  id                       String     @id @default(uuid())
  code                     String     @default("")
  title                    String     @default("")
  parent                   Category?  @relation("SubCategory_parent", fields: [parentId], references: [id])
  parentId                 String?    @map("parent")
  isActive                 Boolean    @default(true)
  seoTitle                 String     @default("")
  seoDescription           String     @default("") @mysql.VarChar(2000)
  seoCanonical             String     @default("")
  createdAt                DateTime?  @default(now())
  updatedAt                DateTime?  @default(now())
  from_Product_subCategory Product[]  @relation("Product_subCategory")
  from_Category_children   Category[] @relation("Category_children")

  @@index([parentId])
}

model Cart {
  id        String    @id @default(uuid())
  products  String    @default("")
  userId    String    @unique @default("")
  createdAt DateTime? @default(now())
  updatedAt DateTime?
}

model Tag {
  id                String    @id @default(uuid())
  code              String    @default("")
  title             String    @default("")
  products          Product[] @relation("Tag_products")
  createdAt         DateTime? @default(now())
  updatedAt         DateTime?
  from_Product_tags Product[] @relation("Product_tags")
}

model FavoritesList {
  id        String    @id @default(uuid())
  products  String    @default("")
  userId    String    @unique @default("")
  createdAt DateTime? @default(now())
  updatedAt DateTime?
}

model OrderStatus {
  id                String    @id @default(uuid())
  code              String    @default("")
  color             String    @default("")
  title             String    @default("")
  createdAt         DateTime? @default(now())
  updatedAt         DateTime?
  from_Order_status Order[]   @relation("Order_status")
}

model Order {
  id               String       @id @default(uuid())
  products         Json?
  user             User?        @relation("Order_user", fields: [userId], references: [id])
  userId           String?      @map("user")
  status           OrderStatus? @relation("Order_status", fields: [statusId], references: [id])
  statusId         String?      @map("status")
  address          String       @default("")
  comment          String       @default("")
  createdAt        DateTime?    @default(now())
  updatedAt        DateTime?
  from_User_orders User[]       @relation("User_orders")

  @@index([userId])
  @@index([statusId])
}

model Question {
  id        String    @id @default(uuid())
  name      String    @default("")
  phone     String    @default("")
  createdAt DateTime? @default(now())
  updatedAt DateTime?
}

model Review {
  id        String    @id @default(uuid())
  name      String    @default("")
  phone     String    @default("")
  text      String    @default("")
  createdAt DateTime? @default(now())
  updatedAt DateTime?
}
